{% extends 'moodiecinema/base.html' %}
{% load static %}

{% block title %}프로필{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{% static 'profile.css' %}">
{% endblock %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <div class="profile-avatar">
            {% if user.user_profile %}
                <img src="{{ user.user_profile.url }}" alt="프로필 사진">
            {% else %}
                <div class="avatar-initial">{{ user.user_name|slice:":1" }}</div> 
            {% endif %}
        </div>
        <div class="profile-info">
            <h2 class="username">{{ user.user_name }}</h2> <!-- user.username 대신 user.user_name으로 변경 -->
            <p class="membership-date">{{ user.date_joined|date:"Y년 n월 d일"}}부터 회원</p>
        </div>
        <div class="profile-stats">
            <div class="stat-item">
                <p class="stat-value">0</p>
                <span>평균 영화 점수</span>
            </div>
            <div class="stat-item">
                <p class="stat-value">0</p>
                <span>평균 TV 점수</span>
            </div>
        </div>
    </div>

    <div class="profile-tabs">
        <a href="#" class="tab">개요</a>
        <a href="#" class="tab">토론</a>
        <a href="#" class="tab">목록</a>
        <a href="#" class="tab">평가</a>
        <a href="#" class="tab">관심 목록</a>
    </div>

    <div class="profile-content">
        <div class="section stats">
            <h3>통계</h3>
            <div class="stats-details">
                <div class="stat-item">
                    <p>총 편집 수: <span class="stat-value">0</span></p>
                </div>
                <div class="stat-item">
                    <p>총 평가 수: <span class="stat-value">0</span></p>
                </div>
                <div class="rating-distribution">평점 분포 (그래프)</div>
            </div>
        </div>    

        <div class="section upcoming">
            <h3>관심 목록에서 개봉 예정인 항목</h3>
            <p>관심 목록 중 개봉 예정인 항목이 없습니다.</p>
            <a href="#" class="btn-link">관심 목록으로 이동</a>
        </div>

        <div class="section recent-discussions">
            <h3>최근 토론</h3>
            <p>어떤 토론 글도 구독중이지 않습니다.</p>
        </div>

        <div class="section recent-activity">
            <h3>최근 활동</h3>
            <p>회원님은 최근 어떤 편집도 하지 않았습니다.</p>
            <a href="#" class="btn-link">더보기</a>
        </div>

        <!-- 버튼들 -->
        <div class="action-buttons">
            <a href="{% url 'update_profile' %}" class="btn edit-profile-btn">회원정보 수정</a>
            <a href="{% url 'logout' %}" class="btn logout-btn">로그아웃</a>
            <a href="{% url 'home' %}" class="btn home-btn">홈으로 이동</a>
        </div>
    </div>
</div>
{% endblock %}
